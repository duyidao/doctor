import{g as A,q as D,u as N,i as m,k as O,r as d,o as p,a as k,d as s,w as t,f as c,N as S,O as U,P as E,j as L,Q as M,K as o,c as C,F as P,b as R,t as r,p as j,e as K,_ as Q}from"./index-04d23bd8.js";import{V as T}from"./visitor-65bd1cfe.js";import{s as $}from"./index-5d0b4697.js";const f=i=>(j("data-v-d303e421"),i=i(),K(),i),z={class:"register_info"},G=f(()=>c("h1",{class:"tip"},"确认挂号信息",-1)),H={class:"card-header"},J=f(()=>c("span",null,"请选择就诊人",-1)),W={class:"user"},X=f(()=>c("div",{class:"card-header"},[c("span",null,"挂号信息")],-1)),Y={style:{width:"100%","text-align":"center"}},Z=A({__name:"register_info",setup(i){const w=D(),h=N(),u=m([]),I=async()=>{const e=await S();console.log(e),u.value=e.data},a=m({}),x=async()=>{const e=await U(w.query.id);console.log(e),a.value=e.data};O(()=>{I(),x()});const _=m(-1),F=e=>{_.value=e},B=async()=>{const e=await $(a.value.hoscode,a.value.id,u.value[_.value].id);e.code===200?h.push({path:"/doctor/user/order",query:{orderId:e.data}}):E.error(e.message)},v=(e={})=>{h.push({path:"/doctor/user/patient",query:{type:"chnagePage",id:e.id||""}})};return(e,ee)=>{const g=d("el-button"),V=d("el-empty"),y=d("el-card"),l=d("el-descriptions-item"),q=d("el-descriptions");return p(),k("div",z,[G,s(y,null,{header:t(()=>[c("div",H,[J,s(g,{icon:L(M),type:"primary",onClick:v},{default:t(()=>[o("添加就诊人")]),_:1},8,["icon"])])]),default:t(()=>[c("div",W,[u.value.length<=0?(p(),C(V,{key:0,style:{margin:"0 auto"},description:"暂无就诊人信息"})):(p(!0),k(P,{key:1},R(u.value,(n,b)=>(p(),C(T,{class:"visitor-item",key:n.id,item:n,hasChose:_.value===b,onClick:te=>F(b),onOnEdit:v},null,8,["item","hasChose","onClick"]))),128))])]),_:1}),s(y,null,{header:t(()=>[X]),default:t(()=>[s(q,{column:2,border:""},{default:t(()=>[s(l,{label:"就诊日期"},{default:t(()=>[o(r(a.value.workDate),1)]),_:1}),s(l,{label:"就诊医院"},{default:t(()=>{var n;return[o(r((n=a.value.param)==null?void 0:n.hosname),1)]}),_:1}),s(l,{label:"就诊科室"},{default:t(()=>{var n;return[o(r((n=a.value.param)==null?void 0:n.depname),1)]}),_:1}),s(l,{label:"医生名字"},{default:t(()=>[o(r(a.value.docname),1)]),_:1}),s(l,{label:"医生职称"},{default:t(()=>[o(r(a.value.title),1)]),_:1}),s(l,{label:"医生专长"},{default:t(()=>[o(r(a.value.skill),1)]),_:1}),s(l,{label:"服务费"},{default:t(()=>[o(r(a.value.amount),1)]),_:1})]),_:1})]),_:1}),c("div",Y,[s(g,{onClick:B,disabled:_.value===-1,type:"primary"},{default:t(()=>[o("确认就诊人")]),_:1},8,["disabled"])])])}}});const ne=Q(Z,[["__scopeId","data-v-d303e421"]]);export{ne as default};
